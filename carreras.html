<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Instituto Modesto Rodas Alvarado — Camino Interactivo</title>
  <meta name="description" content="Camino interactivo: Ciclo, Talleres, Décimo, Carreras y Graduación." />
  <link rel="stylesheet" href="style.css">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
  <style>
    :root{
      --verde-1:#34791d;
      --verde-2:#52bd2e;
      --gris:#213237;
      --bg:#f6fffa;
      --white:#fff;
      --card-height:230px;
      --card-height-large:380px;
      --accent-strip:12px;
      --transition:0.42s cubic-bezier(.2,.9,.25,1);
      --shadow: 0 16px 46px rgba(6,36,24,0.08);
      /* asumo header ~70px; la timeline quedará a header + 10px */
      --header-height-desktop:70px;
      font-family:"Poppins",system-ui,-apple-system,"Segoe UI",Roboto,Arial,sans-serif;
    }

    /* reset / base */
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      background:linear-gradient(180deg,var(--bg),#f4fbf7);
      color:var(--gris);
      -webkit-font-smoothing:antialiased;
      line-height:1.45;
      font-family: "Poppins", sans-serif;
      padding-top:70px; /* espacio para nav fijo */
      display:flex;
      flex-direction:column;
      min-height:100svh; /* usar viewport seguro móvil para evitar huecos */
      overflow-x:hidden; /* prevenir ancho extra */
    }

    /* page main area so footer sticks to bottom */
    .page-main{flex:1; padding-top:0; }
    /* asegurar que el último section no deje espacio extra */
    main > .container > section:last-of-type { margin-bottom: 0; }

    /* container */
    .container{max-width:1180px;margin:0 auto;padding:18px}

    /* header / nav */
    header{display:flex;align-items:center;gap:14px;padding:6px 0 12px}
    .menu {
      background: linear-gradient(90deg,var(--verde-1),var(--verde-2));
      padding: 10px 0;
      position: fixed;
      top: 0; left: 0;
      width: 100%;
      transition: all 0.3s ease;
      z-index: 2000; /* ensure menu above timeline */
    }
    .menu.scrolled {
      box-shadow: 0 4px 12px rgba(0,0,0,0.25);
      background: linear-gradient(90deg,#2c6619,#4aa626);
    }
    .alineacion-imra-logo {
      display: flex;
      justify-content: space-between;
      align-items: center;
      width: 90%;
      max-width: 1200px;
      margin: auto;
      position: relative;
    }
    .alineacion-imra-logo a {
      display: flex;
      align-items: center;
      gap: 10px;
      text-decoration: none;
      font-weight: 700;
      font-size: 1.2rem;
      color: white;
    }
    .alineacion-logo img { border-radius: 50%; border: none; }

    /* menu options */
    .alineacion-menu {
      list-style: none;
      display: flex;
      gap: 2rem;
      align-items: center;
    }
    .alineacion-menu li { position: relative; }
    .alineacion-menu a {
      text-decoration: none;
      font-size: 1rem;
      font-weight: 600;
      color: white;
      transition: all 0.3s ease;
      padding: 8px 12px;
      border-radius: 6px;
      display: flex;
      align-items: center;
      gap: 5px;
    }
    .alineacion-menu a:hover {
      background-color: #ffea4d;
      color: #fff;
    }

    /* ensure show class forces menu visible on mobile */
    .alineacion-menu.show { display: flex !important; }

    /* submenu */
    .submenu {
      display: none;
      position: absolute;
      top: 100%; left: 0;
      background: white;
      min-width: 220px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.15);
      border-radius: 8px;
      overflow: hidden;
      z-index: 9999;
    }
    .submenu a {
      color: #333;
      padding: 10px 15px;
      border-bottom: 1px solid #eee;
    }
    .submenu a:hover {
      background: #ffea4d;
      color: white;
    }
    .alineacion-menu li.show-submenu .submenu { display: block; }
    .arrow { font-size: 0.7rem; transition: transform 0.3s ease; }
    .show-submenu > a .arrow { transform: rotate(180deg); }

    /* boton creditos */
    .boton-creditos {
      background-color: #ffea4d;
      border-radius: 30px;
      transition: all 0.3s ease;
    }
    .boton-creditos a {
      color: white;
      font-weight: bold;
      padding: 10px 20px;
      display: inline-block;
    }
    .boton-creditos:hover { background-color: #ffea4d; }

    /* hamburguesa */
    .hamburguesa {
      display: none;
      flex-direction: column;
      justify-content: left;
      cursor: pointer;
      width: 30px;
      height: 25px;
      position: relative;
      z-index: 2100;
    }
    .hamburguesa span {
      height: 3px;
      width: 100%;
      background: white;
      border-radius: 2px;
      transition: all 0.4s ease;
      position: absolute;
    }
    .hamburguesa span:nth-child(1) { top: 0; }
    .hamburguesa span:nth-child(2) { top: 10px; }
    .hamburguesa span:nth-child(3) { top: 20px; }
    .hamburguesa.active span:nth-child(1) {
      transform: rotate(45deg);
      top: 10px;
    }
    .hamburguesa.active span:nth-child(2) { opacity: 0; }
    .hamburguesa.active span:nth-child(3) {
      transform: rotate(-45deg);
      top: 10px;
    }

    /* TIMELINE - RESTAURADO EN DESKTOP
       Ajustado para que quede 10px debajo del header en escritorio */
    .timeline-sticky {
      position: sticky;
      top: calc(var(--header-height-desktop) + 10px); /* header + 10px separación */
      z-index: 1100;
      margin: 8px 0 18px;
      display:flex;
      justify-content:center;
      pointer-events:auto;
      background: transparent;
    }
    .timeline { width:100%; max-width:1200px; border-radius:10px; background: rgba(255,255,255,0.96); padding:10px 14px; box-shadow: var(--shadow); display:flex; flex-direction:column; gap:10px; align-items:center; overflow:visible; }
    .timeline-row { width:100%; position:relative; display:flex; align-items:center; gap:14px; overflow-x:auto; padding:8px 6px; scroll-behavior:smooth; }
    .timeline-progress { position:absolute; left:44px; top:50%; height:8px; transform:translateY(-50%); border-radius:999px; background: linear-gradient(90deg,var(--verde-2), var(--verde-1)); width:0%; pointer-events:none; transition: width 280ms linear, left 280ms linear; box-shadow: 0 6px 18px rgba(11,122,83,0.06); z-index:2; }
    .node { display:flex;flex-direction:column;align-items:center;min-width:110px;padding:6px 8px;gap:6px;font-weight:700;color:var(--gris); cursor:pointer;user-select:none;transition:transform 350ms, color 350ms; position:relative; z-index:6; }
    .node small{font-weight:600;color:#55746d;font-size:12px}
    .node .dot { width:46px;height:46px;border-radius:50%;background:#fff;border:3px solid rgba(0,0,0,0.06);display:grid;place-items:center; box-shadow: 0 8px 20px rgba(6,36,24,0.06); transition:all 280ms ease; position:relative; z-index:7; }
    .node.active { transform: translateY(-10px); color: #fff; }
    .node.active .dot{ background: linear-gradient(180deg,var(--verde-2),var(--verde-1)); border: none; box-shadow: 0 10px 26px rgba(11,122,83,0.14) }
    .walker { position:absolute; top:50%; left:44px; transform:translate(-50%,-58%); z-index:8; width:60px;height:60px;border-radius:50%;display:grid;place-items:center; background: linear-gradient(180deg,#fff,#f6f6f6); border:4px solid #fff; box-shadow: 0 12px 32px rgba(6,36,24,0.08); pointer-events:none; transition: all 520ms cubic-bezier(.2,.8,.18,1); }
    .walker svg{ width:36px;height:36px; fill:#8b9496 }
    .timeline-labels { display:flex;justify-content:space-between;width:100%;color:#5b7b72;font-size:13px;padding:0 6px }

    /* main sections */
    main{margin-top:10px}
    section { margin:28px 0; padding:18px; border-radius:12px; background: linear-gradient(180deg,#fff,#f7fff9); box-shadow: 0 8px 20px rgba(6,36,24,0.04); }

    /* section title */
    .section-title { display:flex;align-items:end;gap:12px;margin-bottom:12px }
    .section-title h3{margin:0;color:var(--verde-1)}
    .section-title p{margin:0;color:#55746d;font-size:13px}

    /* CICLO & DECIMO */
    .ciclo-grid { display:grid; grid-template-columns: repeat(auto-fit, minmax(230px, 1fr)); gap:16px; margin-top:12px; align-items:stretch; }
    .ciclo-card, .decimo-card {
      position:relative;
      height:var(--card-height);
      display:flex;
      gap:12px;
      align-items:flex-start;
      padding:14px 16px 14px calc(var(--accent-strip) + 18px);
      border-radius:12px;
      background:linear-gradient(180deg,#fff,#fcfff9);
      box-shadow:0 10px 30px rgba(6,36,24,0.06);
      border:1px solid rgba(11,122,83,0.04);
      transition: transform var(--transition), box-shadow var(--transition);
      overflow:hidden;
    }
    .ciclo-card:hover, .decimo-card:hover{ transform: translateY(-8px) scale(1.01); box-shadow: 0 26px 70px rgba(6,36,24,0.12); }
    .ciclo-card::before, .decimo-card::before {
      content:"";
      position:absolute;
      left:0;
      top:0;
      width:var(--accent-strip);
      height:100%;
      border-top-left-radius:12px;
      border-bottom-left-radius:12px;
      background:linear-gradient(180deg,#ccc,#999);
      z-index:1;
    }
    .card-leftbar-shine{ position:absolute; left:-40%; top:0; width:180%; height:100%; background: linear-gradient(90deg, rgba(255,255,255,0.02) 0%, rgba(255,255,255,0.12) 48%, rgba(255,255,255,0.02) 100%); transform:translateX(-60%); transition: transform 650ms cubic-bezier(.2,.9,.2,1); pointer-events:none; z-index:2; mix-blend-mode:overlay; }
    .ciclo-card:hover .card-leftbar-shine, .decimo-card:hover .card-leftbar-shine { transform:translateX(0%); }

    .ciclo-icon, .decimo-icon {
      min-width:64px;
      min-height:64px;
      border-radius:12px;
      display:grid;
      place-items:center;
      font-weight:900;
      font-size:20px;
      color:#fff;
      text-shadow: 0 2px 10px rgba(0,0,0,0.25);
      box-shadow: 0 10px 30px rgba(11,122,83,0.08);
      flex-shrink:0;
      z-index:3;
      text-transform:uppercase;
    }
    .ciclo-body, .decimo-body { flex:1; min-width:0; z-index:3; padding-top:4px }
    .ciclo-body h4, .decimo-body h4 { margin:0 0 8px 0; font-size:16px; color:var(--gris); }
    .ciclo-body p, .decimo-body p { margin:0; color:#55746d; font-size:14px; line-height:1.35; }

    /* CICLO palette (kept) */
    .col-1::before{ background:linear-gradient(180deg,#ff9bb3,#ff6f91); }   .col-1 .ciclo-icon{ background:linear-gradient(180deg,#ff9bb3,#ff6f91) }
    .col-2::before{ background:linear-gradient(180deg,#14a37f,#0b7a53); }   .col-2 .ciclo-icon{ background:linear-gradient(180deg,#14a37f,#0b7a53) }
    .col-3::before{ background:linear-gradient(180deg,#6ec6ff,#4db6ac); }   .col-3 .ciclo-icon{ background:linear-gradient(180deg,#6ec6ff,#4db6ac); color:#032 }
    .col-4::before{ background:linear-gradient(180deg,#ffd166,#ffb74d); }   .col-4 .ciclo-icon{ background:linear-gradient(180deg,#ffd166,#ffb74d); color:#2b3a2f }
    .col-5::before{ background:linear-gradient(180deg,#b39ddb,#9575cd); }   .col-5 .ciclo-icon{ background:linear-gradient(180deg,#b39ddb,#9575cd) }
    .col-6::before{ background:linear-gradient(180deg,#ffb085,#ff8a65); }   .col-6 .ciclo-icon{ background:linear-gradient(180deg,#ffb085,#ff8a65); color:#2b3a2f }
    .col-7::before{ background:linear-gradient(180deg,#6ee7b7,#34d399); }   .col-7 .ciclo-icon{ background:linear-gradient(180deg,#6ee7b7,#34d399); color:#063 }
    .col-8::before{ background:linear-gradient(180deg,#90caf9,#64b5f6); }   .col-8 .ciclo-icon{ background:linear-gradient(180deg,#90caf9,#64b5f6); color:#032 }
    .col-9::before{ background:linear-gradient(180deg,#ffd7a6,#ffb88c); }   .col-9 .ciclo-icon{ background:linear-gradient(180deg,#ffd7a6,#ffb88c); color:#2b3a2f }
    .col-10::before{ background:linear-gradient(180deg,#c6f6d5,#9ae6b4); }  .col-10 .ciclo-icon{ background:linear-gradient(180deg,#c6f6d5,#9ae6b4); color:#063 }
    .col-11::before{ background:linear-gradient(180deg,#fbcfe8,#f9a8d4);}    .col-11 .ciclo-icon{ background:linear-gradient(180deg,#fbcfe8,#f9a8d4) }

    /* DECIMO palette (kept) */
    .dcol-1::before{ background:linear-gradient(180deg,#ffe6cc,#ffcf99); }   .dcol-1 .decimo-icon{ background:linear-gradient(180deg,#ffe6cc,#ffcf99); color:#2b3a2f }
    .dcol-2::before{ background:linear-gradient(180deg,#bff6ff,#9ee7ff); }   .dcol-2 .decimo-icon{ background:linear-gradient(180deg,#bff6ff,#9ee7ff); color:#032 }
    .dcol-3::before{ background:linear-gradient(180deg,#fef08a,#fde047); }   .dcol-3 .decimo-icon{ background:linear-gradient(180deg,#fef08a,#fde047); color:#2b3a2f }
    .dcol-4::before{ background:linear-gradient(180deg,#c4b5fd,#a78bfa); }   .dcol-4 .decimo-icon{ background:linear-gradient(180deg,#c4b5fd,#a78bfa); color:#2b3a2f }
    .dcol-5::before{ background:linear-gradient(180deg,#ffd6e7,#ffb3d0); }   .dcol-5 .decimo-icon{ background:linear-gradient(180deg,#ffd6e7,#ffb3d0); color:#2b3a2f }
    .dcol-6::before{ background:linear-gradient(180deg,#c6f0e2,#8de1c6); }   .dcol-6 .decimo-icon{ background:linear-gradient(180deg,#c6f0e2,#8de1c6); color:#063 }
    .dcol-7::before{ background:linear-gradient(180deg,#ffd7ff,#ffb3ff); }   .dcol-7 .decimo-icon{ background:linear-gradient(180deg,#ffd7ff,#ffb3ff); color:#2b3a2f }
    .dcol-8::before{ background:linear-gradient(180deg,#e6f4ff,#cfe9ff); }   .dcol-8 .decimo-icon{ background:linear-gradient(180deg,#e6f4ff,#cfe9ff); color:#032 }
    .dcol-9::before{ background:linear-gradient(180deg,#eaf7d9,#c6ecb0); }   .dcol-9 .decimo-icon{ background:linear-gradient(180deg,#eaf7d9,#c6ecb0); color:#063 }
    .dcol-10::before{ background:linear-gradient(180deg,#fff0d6,#ffdba8);}   .dcol-10 .decimo-icon{ background:linear-gradient(180deg,#fff0d6,#ffdba8); color:#2b3a2f }
    .dcol-11::before{ background:linear-gradient(180deg,#dfe7ff,#b8c8ff);}   .dcol-11 .decimo-icon{ background:linear-gradient(180deg,#dfe7ff,#b8c8ff); color:#032 }

    /* smaller text */
    .ciclo-body h4, .decimo-body h4 { font-size:15px; }
    .ciclo-body p, .decimo-body p { font-size:14px; }

    /* TALLERES flip */
    .talleres-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:20px;margin-top:12px}
    .card{perspective:1100px}
    .card-inner{position:relative;width:100%;height:var(--card-height-large);transform-style:preserve-3d;transition:transform .62s;border-radius:14px;overflow:visible}
    .card.is-flipped .card-inner{transform:rotateY(180deg)}
    .card-face{position:absolute;inset:0;border-radius:14px;backface-visibility:hidden;-webkit-backface-visibility:hidden;box-shadow:0 10px 28px rgba(6,36,24,0.06);overflow:hidden;background:#fff;display:flex;flex-direction:column;border:1px solid rgba(11,122,83,0.04)}
    /* CENTER images on desktop and keep aspect */
    .card-front img{width:80%;max-width:420px;height:190px;object-fit:cover;display:block;margin:0 auto;}
    .card-front .content{padding:14px;display:flex;flex-direction:column;flex:1}
    .card-front h3{margin:0 0 8px;color:var(--verde-1);font-size:18px}
    .card-front p{margin:0;color:#55746d;font-size:14px;line-height:1.45;flex:1}
    .flip-btn{position:absolute;right:12px;bottom:12px;background:linear-gradient(90deg,var(--verde-1),var(--verde-2));color:#fff;border:none;border-radius:10px;padding:8px 12px;font-weight:700;cursor:pointer;box-shadow:0 8px 22px rgba(11,122,83,0.12)}
    .card-back{transform:rotateY(180deg);background:linear-gradient(180deg,#e9fff4,#ffffff);Padding:18px;display:flex;flex-direction:column;justify-content:space-between}
    .card-back h4{margin:0 0 8px;color:var(--verde-1)}
    .card-back p{margin:0;color:#2f4f46;line-height:1.6;font-size:14px}
    .back-meta{margin-top:12px;display:flex;justify-content:space-between;align-items:center;gap:12px;color:#55746d;font-size:13px}
    .close-btn{background:var(--verde-1);color:#fff;border:none;padding:8px 12px;border-radius:8px;cursor:pointer;font-weight:700}

    /* CARRUSEL */
    .carrusel { padding: 20px 0 36px; position: relative; }
    .carreras-title { display:block; padding: 12px 20px; background: linear-gradient(90deg,var(--verde-1),var(--verde-2)); color: white; border-radius: 30px; font-size: 20px; font-weight: bold; margin: 6px auto 18px; width: fit-content; text-align:center; box-shadow: 0 4px 10px rgba(0,0,0,0.12); }
    .carreras-wrapper { max-width: 930px; margin: auto; overflow: hidden; position: relative; padding: 0 48px; }
    .carreras-track-carousel { display: flex; transition: transform 0.45s cubic-bezier(.2,.9,.2,1); gap: 20px; will-change: transform; padding: 6px 2px; }
    .carrera-card { min-width: 280px; padding: 18px; background: linear-gradient(180deg,#fff,#f6fff7); border-radius: 16px; box-shadow: 0 10px 30px rgba(6,36,24,0.06); display:flex; flex-direction:column; justify-content:space-between; }
    .carousel-btn { background: linear-gradient(90deg, var(--verde-1),var(--verde-2)); color: #fff; border: none; width:52px; height:52px; border-radius:50%; cursor: pointer; font-size: 22px; font-weight:700; box-shadow: 0 8px 22px rgba(6,36,24,0.12); position: absolute; top: 50%; transform: translateY(-50%); z-index: 60; display: grid; place-items:center; }
    .carousel-prev { left: 10px; } .carousel-next { right: 10px; }

    /* CAMINO / POSTER */
    .camino-poster {
      position: relative;
      overflow: hidden;
      border-radius: 16px;
      padding: 28px;
      display:flex;
      gap:20px;
      align-items:center;
      min-height:320px;
      background: linear-gradient(180deg,#f0fff8,#e9fff4);
      box-shadow: 0 20px 60px rgba(6,36,24,0.08);
    }
    .poster-left { flex:1.2; min-width:260px; display:flex; flex-direction:column; gap:12px; }
    .poster-title { font-size:22px; margin:0; color:var(--verde-1); letter-spacing:0.2px; }
    .poster-sub { color:#2f5f50; margin:0; font-size:14px }
    .poster-illustr { flex:1; display:grid; place-items:center; min-width:280px; }
    .hill-svg { width:100%; max-width:420px; height:auto; display:block }

    /* milestones */
    .milestones { display:flex; gap:10px; align-items:center; margin-top:8px; flex-wrap:wrap; }
    .milestone { display:flex; gap:10px; align-items:center; background:#fff; padding:10px 14px; border-radius:999px; box-shadow:0 8px 20px rgba(6,36,24,0.06); transition: transform .36s cubic-bezier(.2,.9,.2,1), box-shadow .36s; opacity:0.95; }
    .milestone .dot { width:40px;height:40px;border-radius:50%;display:grid;place-items:center;color:#fff;font-weight:800; box-shadow:0 8px 20px rgba(6,36,24,0.08); font-size:14px; }
    .ms-1 .dot{ background:linear-gradient(180deg,#ff9bb3,#ff6f91) }
    .ms-2 .dot{ background:linear-gradient(180deg,#14a37f,#0b7a53) }
    .ms-3 .dot{ background:linear-gradient(180deg,#6ec6ff,#4db6ac) }
    .ms-4 .dot{ background:linear-gradient(180deg,#ffd166,#ffb74d) }
    .ms-5 .dot{ background:linear-gradient(180deg,#b39ddb,#9575cd) }
    .milestone strong{ font-size:14px; color:var(--gris) }
    .milestone small{ display:block; font-size:12px; color:#55746d }

    /* responsive tweaks */
    @media (max-width:1100px){
      .container{padding:14px}
      .carreras-wrapper { padding: 0 30px; }
    }

    @media (max-width:980px){
      :root{ --card-height:200px; --card-height-large:340px }
      .camino-poster { flex-direction:column; padding:18px; gap:14px }
      .poster-illustr { order: -1; max-width:420px; width:100%; }
      .poster-left { width:100% }
      .alineacion-menu { display:none; flex-direction:column; gap:1rem; background: linear-gradient(90deg,#34791d,#52bd2e); width:100%; border-radius:8px; animation: slideDown 0.4s ease forwards; position:absolute; top:100%; left:0; z-index:1999; padding:10px; box-shadow:0 12px 36px rgba(6,36,24,0.12); }
      .hamburguesa { display:flex; }
      .carreras-wrapper { padding: 0 18px; }
    }

    /* ========== MOBILE (≤640px) — responsivo ajustado (REEMPLAZADO) ========= */
    @media (max-width:640px){

      :root{
        --card-height:140px;
        --card-height-large:210px;
        --timeline-scale: 0.86;
        --mobile-nav-gap: 50px; /* header aproximado — reducido para empujar timeline un poco más arriba */
      }

      /* timeline moved more arriba but below header; smaller sizes */
      .timeline-sticky {
        position: sticky;
        top: calc(48px + 6px); /* más arriba pero siempre debajo del header/hamburguesa */
        left: 0;
        right: 0;
        width: 100%;
        display: flex;
        justify-content: center;
        z-index: 1050; /* debajo del menú (menu z-index:2000) */
        padding: 6px 6px;
        background: transparent;
        pointer-events:auto;
        transition: top .16s ease, z-index .12s ease, opacity .18s ease;
      }
      .timeline {
        width: calc(100% - 18px);
        max-width: 920px;
        border-radius:10px;
        padding:6px 8px;
        transform: none;
        box-shadow: 0 8px 20px rgba(6,36,24,0.04);
        background: rgba(255,255,255,0.98);
      }
      .timeline-labels { display:none; } /* ocultar etiquetas para ahorrar espacio */
      /* smaller nodes so timeline doesn't dominate screen */
      .timeline-row {
        gap:6px;
        padding:4px 6px;
        overflow-x:auto;
        align-items:center;
        justify-content:space-between;
      }
      .timeline-row .node { flex:1 1 0; min-width:0; padding:6px 6px; text-align:center; }
      .timeline-row .node small { font-size:11px; color:#506e66; margin-top:4px; display:block; max-width:64px; overflow:hidden; text-overflow:ellipsis; white-space:nowrap; }
      .node .dot { width:30px; height:30px; border-width:2px; }

      /* timeline-progress más delgada y con menos desplazamiento lateral */
      .timeline-progress {
        left:12px;
        right:12px;
        bottom:6px;
        top:auto;
        height:4px;           /* reducida para ahorrar espacio vertical */
        border-radius:999px;
      }

      /* walker reducido y ligeramente levantado */
      .walker {
        display:block;
        width:40px;
        height:40px;
        border-radius:50%;
        transform:translate(-50%,-68%); /* ligeramente más arriba que antes */
      }
      .walker svg{ width:22px;height:22px; }

      /* Empujar contenido para que no quede oculto bajo la timeline fija en mobile */
      .page-main { padding-top: calc(var(--mobile-nav-gap) + 64px); }

      /* ---------- CICLO & DÉCIMO: colocar iniciales arriba y texto ancho debajo (mobile) ---------- */
      .ciclo-grid, .decimo-grid { grid-template-columns: repeat(2, 1fr); gap:10px; }
      .ciclo-card, .decimo-card {
        padding:10px 12px 12px calc(var(--accent-strip) + 10px);
        height:auto;
        display:flex;
        flex-direction:column;
        align-items:center;
        text-align:center;
      }
      .ciclo-icon, .decimo-icon {
        width:52px;
        height:52px;
        min-width:52px;
        min-height:52px;
        font-size:16px;
        margin-top:6px;
        z-index:4;
      }
      .ciclo-body, .decimo-body { width:100%; padding-top:10px; }
      .ciclo-body h4, .decimo-body h4 {
        font-size:13px;
        margin:0 0 6px 0;
        line-height:1.1;
        word-break:break-word;
      }
      .ciclo-body p, .decimo-body p {
        font-size:12px;
        margin:0;
        color:#546e65;
      }
      .ciclo-card::before, .decimo-card::before { width:10px; }

      /* ---------- TALLERES: images más pequeñas en mobile pero manteniendo centrado ---------- */
      .talleres-grid { grid-template-columns: 1fr; gap:12px; margin-top:12px; }
      .card-front img,
      .card-front .imagenes-tamano {
        display:block;
        margin: 6px auto 8px;
        width: 56px;
        max-width: 56px;
        height: 84px;
        object-fit: cover;
        border-radius: 8px;
      }
      .card-inner { height: var(--card-height-large); }
      .card-front .content { padding:8px 10px; gap:6px; text-align:center; }
      .card-front h3 { font-size: 13px; margin:6px 0 6px; line-height:1.12; color:var(--verde-1); }
      .card-front p { font-size:12px; line-height:1.25; color:#546e65; margin:0; }
      .card-back p { font-size:12px; line-height:1.35; }
      .back-meta { gap:8px; font-size:12px; flex-wrap:wrap; justify-content:center; }
      .flip-btn { right:8px; bottom:8px; padding:7px 10px; font-size:13px; border-radius:9px; }

      /* ---------- CARRUSEL: medidas mobile friendly ---------- */
      .carreras-track-carousel {
        display:flex;
        gap:12px;
        padding:6px 6px;
        overflow-x:auto;
        -webkit-overflow-scrolling:touch;
        scroll-snap-type:x mandatory;
      }
      .carreras-track-carousel > .carrera-card {
        scroll-snap-align:center;
        min-width:78%;
        flex:0 0 auto;
        max-width:92%;
      }
      .carrera-card h3 {
        font-size: clamp(13px, 3.8vw, 15px);
        line-height:1.14;
        margin:0 0 6px;
        word-break: break-word;
        overflow-wrap: anywhere;
        display: -webkit-box;
        -webkit-line-clamp: 2;
        -webkit-box-orient: vertical;
        overflow: hidden;
      }
      .carrera-card p { font-size:12px; margin:0 0 6px; }
      .carousel-btn { display:none !important; }

      /* ---------- Accessibility / minor touch tweaks ---------- */
      .btn { padding:9px 14px; font-size:0.98rem; }
      .keyboard-focus { outline: 3px solid rgba(20,163,127,0.10); outline-offset:5px; border-radius:8px; }

      /* When menu open, hide timeline to avoid overlap (preserva comportamiento existente) */
      body.menu-open .timeline-sticky {
        display: none !important;
        opacity: 0;
        pointer-events: none;
      }

      /* ==== Footer móvil: menos padding (restaurado al tamaño anterior) ==== */
      footer {
        padding: 18px 12px;
        margin-top: 0 !important; /* evita doble margen en móviles */
      }
      .footer-logo img { width:72px; }
      .vertical-line { height:80px; }
      .footer-container { gap: 30px; max-width: 920px; }
      .footer-bottom { font-size:0.85rem; margin-top:8px; padding-top:10px; }

      /* eliminar margen/padding extra del último bloque antes del footer */
      #camino { margin-bottom: 0 !important; padding-bottom: 0 !important; }

      /* relajar alturas que usan vh para evitar huecos por barras del navegador */
      .timeline-sticky { top: calc(48px + 6px); }
      .camino-poster { min-height: auto; }
    }

    /* focus outline */
    .keyboard-focus { outline: 3px solid rgba(20,163,127,0.12); outline-offset:6px; border-radius:10px }
    .muted { color:#55746d;font-size:13px }

    /* Imágenes de talleres más pequeñas en PC */
  @media (min-width: 981px) {
    .card-front img,
    .imagenes-tamano {
      width: 120px;       /* ancho personalizado */
      height: 160px;      /* puedes ajustar si deseas mantener proporción */
      object-fit: cover; /* evita que se deformen */
      display: block;
      margin-top: 80px;    /* centra la imagen */
      border-radius: 8px;
    }
  }

  /* ==== BOTONES GENERALES ==== */
  .btn {
    display: inline-block;
    background: linear-gradient(90deg, #34791d, #52bd2e);
    color: #fff;
    text-decoration: none;
    font-weight: 700;
    padding: 10px 18px;
    border-radius: 12px;
    border: none;
    box-shadow: 0 8px 22px rgba(11,122,83,0.12);
    cursor: pointer;
    transition: all 0.25s ease;
  }

  .btn:hover {
    transform: translateY(-3px);
    box-shadow: 0 18px 36px rgba(11,122,83,0.18);
  }

  .btn:active {
    transform: translateY(-1px) scale(0.98);
    box-shadow: 0 8px 20px rgba(11,122,83,0.12);
  }

  .btn:focus {
    outline: 3px solid rgba(20,163,127,0.15);
    outline-offset: 3px;
  }

  /* ==== BOTONES DEL CARRUSEL ==== */
  .carousel-btn {
    background: linear-gradient(90deg, #34791d, #52bd2e);
    color: #fff;
    border: none;
    width: 52px;
    height: 52px;
    border-radius: 50%;
    font-size: 22px;
    font-weight: bold;
    cursor: pointer;
    box-shadow: 0 8px 22px rgba(6,36,24,0.12);
    display: grid;
    place-items: center;
    transition: all 0.3s ease;
  }

  .carousel-btn:hover {
    transform: translateY(-4px) scale(1.05);
    box-shadow: 0 20px 60px rgba(6,36,24,0.18);
  }

  .carousel-btn:active {
    transform: scale(0.95);
    box-shadow: 0 8px 20px rgba(6,36,24,0.12);
  }

  .carousel-btn:focus {
    outline: 3px solid rgba(20,163,127,0.2);
    outline-offset: 3px;
  }

  /* ==== RESPONSIVO ==== */
  @media (max-width: 640px) {
    .btn {
      padding: 8px 14px;
      font-size: 14px;
    }
    .carousel-btn {
      width: 44px;
      height: 44px;
      font-size: 18px;
    }
  }
  /* ===== Arreglo definitivo para hueco en pantallas pequeñas ===== */
@media (max-width: 640px) {

  /* 1) Elimina el padding-top global del body en móviles (evita doble-espacio) */
  body {
    padding-top: 0 !important;
  }

  /* 2) Ajusta el contenedor principal para que quede justo debajo del menú fijo */
  .page-main {
    /* usar la variable del header si existe, si no 56px por defecto */
    padding-top: calc(var(--header-height-desktop, 56px) + 6px) !important;
    min-height: auto !important;
  }

  /* 3) Forzar que el primer section no empuje con margin-top grande */
  main > .container > section:first-of-type {
    margin-top: 6px !important;
  }

  /* 4) Reducir márgenes/paddings extra de la timeline en mobile (evita hueco) */
  .timeline-sticky {
    margin: 0 !important;
    padding: 6px 6px !important;
    top: calc(var(--header-height-desktop, 56px) + 6px) !important;
    height: auto !important;
    display: flex !important;
  }

  /* 5) Si el body tiene la clase menu-open (menú desplegado), aseguramos que no deje hueco */
  body.menu-open .timeline-sticky {
    display: none !important;
    height: 0 !important;
    margin: 0 !important;
    padding: 0 !important;
  }

  /* 6) Evitar que el timeline interno cree overflow vertical inesperado */
  .timeline {
    box-sizing: border-box !important;
    padding-top: 6px !important;
    padding-bottom: 6px !important;
  }

  /* 7) Asegurar que el header (menu) quede pegado arriba */
  .menu {
    position: fixed !important;
    top: 0 !important;
    left: 0;
    right: 0;
    z-index: 2200 !important;
  }

  /* 8) Por si algún elemento hijo tiene margin que empuja, forzamos colapso visual */
  .container { padding-top: 8px !important; }
}

  </style>
</head>
<body>
  <div class="page">
    <nav class="menu" id="menu" role="navigation" aria-label="Navegación principal">
      <div class="alineacion-imra-logo">
        <a href="index.html">
          <span class="alineacion-logo"><img src="Imagenes/IMRA-logo.png" alt="logo" width="40px"></span>
          <span class="alineacion-imra">IPMRA</span>
        </a>
        <div class="hamburguesa" id="hamburguesa" aria-hidden="true" aria-label="Botón menú" aria-expanded="false" tabindex="0">
          <span></span><span></span><span></span>
        </div>
        <ul class="alineacion-menu" id="menu-opciones" aria-hidden="true">
          <li><a href="index.html">Inicio</a></li>
          <li>
            <a href="#" class="has-submenu">Nosotros <span class="arrow">▼</span></a>
            <ul class="submenu">
              <li><a href="nuestra-identidad.html">Nuestra Identidad</a></li>
              <li><a href="departamentos.html">Departamentos</a></li>
              <li><a href="maestros.html">Maestros</a></li>
              <li><a href="instalaciones.html">Instalaciones</a></li>
            </ul>
          </li>
          <li><a href="carreras.html">Oferta Academica</a></li>
          <li><a href="matriculas.html">Matrículas</a></li>
          <li class="boton-creditos"><a href="creditos.html">Créditos</a></li>
        </ul>
      </div>
    </nav>

    <main class="page-main">
      <div class="container" role="document">
        <!-- TIMELINE -->
        <div class="timeline-sticky" aria-hidden="false">
          <div class="timeline" role="navigation" aria-label="Barra de progreso del estudiante">
            <div class="timeline-labels">
              <div>Progreso del estudiante</div>
              <div style="color:#6a8b80;font-size:13px">Haz clic en una etapa para ir a su sección</div>
            </div>

            <div class="timeline-row" id="timelineRow" tabindex="0">
              <div class="timeline-progress" id="timelineProgress" aria-hidden="false"></div>
              <div class="walker" id="walker" aria-hidden="true" title="Estudiante">
                <svg viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg" role="img" aria-hidden="true"><g transform="translate(8,4)"><circle cx="24" cy="8" r="6"></circle><path d="M8 32c0-9 7.6-16 16-16s16 7 16 16v8H8v-8z"></path></g></svg>
              </div>

              <div class="node" data-target="#ciclo" role="button" tabindex="0" aria-label="Ciclo">
                <div class="dot" aria-hidden="true"></div>
                <small>Ciclo</small>
              </div>

              <div class="node" data-target="#talleres" role="button" tabindex="0" aria-label="Talleres">
                <div class="dot" aria-hidden="true"></div>
                <small>Talleres</small>
              </div>

              <div class="node" data-target="#decimo" role="button" tabindex="0" aria-label="Décimo">
                <div class="dot" aria-hidden="true"></div>
                <small>Décimo</small>
              </div>

              <div class="node" data-target="#carreras" role="button" tabindex="0" aria-label="Carreras">
                <div class="dot" aria-hidden="true"></div>
                <small>Carreras</small>
              </div>

              <div class="node" data-target="#camino" role="button" tabindex="0" aria-label="Graduación">
                <div class="dot" aria-hidden="true"></div>
                <small>Graduación</small>
              </div>
            </div>
          </div>
        </div>

        <!-- CICLO -->
        <section id="ciclo" aria-labelledby="ciclo-title">
          <div class="section-title">
            <h3 id="ciclo-title">Ciclo Común — Asignaturas</h3>
            <p>Asignaturas obligatorias que forman la base del estudiante técnico.</p>
          </div>

          <div class="ciclo-grid" role="list" aria-label="Asignaturas del ciclo">
            <article class="ciclo-card col-1" role="listitem" tabindex="0" aria-label="Artística">
              <div class="card-leftbar-shine"></div>
              <div class="ciclo-icon" aria-hidden="true">AR</div>
              <div class="ciclo-body">
                <h4>Artística</h4>
                <p>Creatividad y expresión aplicada a proyectos técnicos y diseño.</p>
              </div>
            </article>

            <article class="ciclo-card col-2" role="listitem" tabindex="0" aria-label="Computación">
              <div class="card-leftbar-shine"></div>
              <div class="ciclo-icon" aria-hidden="true">IT</div>
              <div class="ciclo-body">
                <h4>Computación</h4>
                <p>Ofimática, herramientas digitales y buenas prácticas de seguridad.</p>
              </div>
            </article>

            <article class="ciclo-card col-3" role="listitem" tabindex="0" aria-label="Ciencias Naturales">
              <div class="card-leftbar-shine"></div>
              <div class="ciclo-icon" aria-hidden="true">CN</div>
              <div class="ciclo-body">
                <h4>Ciencias Naturales</h4>
                <p>Fundamentos de física, química y biología con enfoque práctico.</p>
              </div>
            </article>

            <article class="ciclo-card col-4" role="listitem" tabindex="0" aria-label="Formación Cívica">
              <div class="card-leftbar-shine"></div>
              <div class="ciclo-icon" aria-hidden="true">FC</div>
              <div class="ciclo-body">
                <h4>Formación Cívica</h4>
                <p>Ética, ciudadanía y habilidades para la convivencia y trabajo en equipo.</p>
              </div>
            </article>

            <article class="ciclo-card col-5" role="listitem" tabindex="0" aria-label="Dibujo Técnico">
              <div class="card-leftbar-shine"></div>
              <div class="ciclo-icon" aria-hidden="true">DT</div>
              <div class="ciclo-body">
                <h4>Dibujo Técnico</h4>
                <p>Lectura e interpretación de planos y simbolismo técnico.</p>
              </div>
            </article>

            <article class="ciclo-card col-6" role="listitem" tabindex="0" aria-label="Español">
              <div class="card-leftbar-shine"></div>
              <div class="ciclo-icon" aria-hidden="true">ES</div>
              <div class="ciclo-body">
                <h4>Español</h4>
                <p>Redacción clara, lectura crítica y comunicación técnica escrita.</p>
              </div>
            </article>

            <article class="ciclo-card col-7" role="listitem" tabindex="0" aria-label="Inglés">
              <div class="card-leftbar-shine"></div>
              <div class="ciclo-icon" aria-hidden="true">EN</div>
              <div class="ciclo-body">
                <h4>Inglés</h4>
                <p>Inglés técnico básico para documentación y entornos laborales.</p>
              </div>
            </article>

            <article class="ciclo-card col-8" role="listitem" tabindex="0" aria-label="Matemáticas">
              <div class="card-leftbar-shine"></div>
              <div class="ciclo-icon" aria-hidden="true">M</div>
              <div class="ciclo-body">
                <h4>Matemáticas</h4>
                <p>Álgebra y razonamiento lógico aplicados a oficios y proyectos.</p>
              </div>
            </article>

            <article class="ciclo-card col-9" role="listitem" tabindex="0" aria-label="Sociales">
              <div class="card-leftbar-shine"></div>
              <div class="ciclo-icon" aria-hidden="true">SS</div>
              <div class="ciclo-body">
                <h4>Sociales</h4>
                <p>Contexto histórico y social para la participación comunitaria.</p>
              </div>
            </article>

            <article class="ciclo-card col-10" role="listitem" tabindex="0" aria-label="Introducción a Talleres">
              <div class="card-leftbar-shine"></div>
              <div class="ciclo-icon" aria-hidden="true">TW</div>
              <div class="ciclo-body">
                <h4>Introducción Talleres</h4>
                <p>Rotaciones prácticas en Metales, Hogar y Agro para descubrir vocaciones.</p>
              </div>
            </article>

            <article class="ciclo-card col-11" role="listitem" tabindex="0" aria-label="Educación Física">
              <div class="card-leftbar-shine"></div>
              <div class="ciclo-icon" aria-hidden="true">EF</div>
              <div class="ciclo-body">
                <h4>Educación Física</h4>
                <p>Actividad física, hábitos de salud y trabajo colaborativo.</p>
              </div>
            </article>
          </div>
        </section>

        <!-- TALLERES -->
        <section id="talleres" aria-labelledby="talleres-title">
          <div class="section-title">
            <h3 id="talleres-title">Talleres</h3>
            <p>Metales, Hogar y Agropecuaria — toca "Ver más" para ver la descripción completa.</p>
          </div>

          <div class="talleres-grid" role="list" aria-label="Listado de talleres">
            <!-- Metales -->
            <div class="card" role="listitem" aria-label="Taller de Metales">
              <div class="card-inner">
                <div class="card-face card-front">
                  <img class="imagenes-tamano" src="Imagenes/metales.png" alt="Estudiante soldando">
                  <div class="content">
                    <h3>Taller de Metales</h3>
                    <p>Soldadura, corte y diseño de piezas metálicas con enfoque en seguridad y práctica.</p>
                  </div>
                  <button class="flip-btn" aria-label="Ver más Taller de Metales">Ver más</button>
                </div>

                <div class="card-face card-back" aria-hidden="true">
                  <div>
                    <h4>Taller de Metales</h4>
                    <p>En este taller los estudiantes practican soldadura eléctrica y autógena, realizan cortes, mediciones y ensamblajes de pequeñas estructuras. Se enfatiza el uso correcto de EPP y la lectura de planos para proyectos reales de fabricación y reparación.</p>
                  </div>
                  <div class="back-meta">
                    <span>Competencias: Soldadura • Corte • Diseño</span>
                    <button class="close-btn" aria-label="Cerrar Taller de Metales">Cerrar</button>
                  </div>
                </div>
              </div>
            </div>

            <!-- Hogar -->
            <div class="card" role="listitem" aria-label="Taller de Hogar">
              <div class="card-inner">
                <div class="card-face card-front">
                  <img class="imagenes-tamano" src="Imagenes/hogar.png" alt="Actividad taller hogar">
                  <div class="content">
                    <h3>Taller de Hogar</h3>
                    <p>Cocina, costura y emprendimiento para la gestión familiar y pequeñas empresas.</p>
                  </div>
                  <button class="flip-btn" aria-label="Ver más Taller de Hogar">Ver más</button>
                </div>

                <div class="card-face card-back" aria-hidden="true">
                  <div>
                    <h4>Taller de Hogar</h4>
                    <p>Los estudiantes aprenden recetas básicas, técnicas de costura y administración de recursos domésticos; desarrollan proyectos orientados al emprendimiento y la organización eficiente del hogar.</p>
                  </div>
                  <div class="back-meta">
                    <span>Enfoque: Creatividad • Emprendimiento</span>
                    <button class="close-btn" aria-label="Cerrar Taller de Hogar">Cerrar</button>
                  </div>
                </div>
              </div>
            </div>

            <!-- Agropecuaria -->
            <div class="card" role="listitem" aria-label="Taller Agropecuaria">
              <div class="card-inner">
                <div class="card-face card-front">
                  <img class="imagenes-tamano" src="Imagenes/agropecuaria.png" alt="Huerto escolar">
                  <div class="content">
                    <h3>Taller Agropecuaria</h3>
                    <p>Manejo de cultivos, cuidado animal y prácticas sostenibles con enfoque práctico.</p>
                  </div>
                  <button class="flip-btn" aria-label="Ver más Taller Agropecuaria">Ver más</button>
                </div>

                <div class="card-face card-back" aria-hidden="true">
                  <div>
                    <h4>Taller Agropecuaria</h4>
                    <p>Se trabaja la preparación de suelos, siembra y técnicas de poscosecha; manejo responsable de animales y prácticas agroecológicas para promover sostenibilidad y registro de producción.</p>
                  </div>
                  <div class="back-meta">
                    <span>Proyectos: Huertos • Crianza responsable</span>
                    <button class="close-btn" aria-label="Cerrar Taller Agropecuaria">Cerrar</button>
                  </div>
                </div>
              </div>
            </div>

          </div>
        </section>

        <!-- DECIMO -->
        <section id="decimo" aria-labelledby="decimo-title">
          <div class="section-title">
            <h3 id="decimo-title">Décimo Grado — Asignaturas (A–Z)</h3>
            <p>Asignaturas clave del décimo grado para orientación técnica y académica.</p>
          </div>

          <div class="ciclo-grid decimo-grid" id="decimoGrid" role="list" aria-label="Asignaturas de décimo grado">
            <article class="decimo-card dcol-1" role="listitem" tabindex="0" aria-label="Biología">
              <div class="card-leftbar-shine"></div>
              <div class="decimo-icon" aria-hidden="true">BI</div>
              <div class="decimo-body"><h4>Biología</h4><p>Procesos de vida y medio ambiente aplicados a producción y salud.</p></div>
            </article>

            <article class="decimo-card dcol-2" role="listitem" tabindex="0" aria-label="Educación Física">
              <div class="card-leftbar-shine"></div>
              <div class="decimo-icon" aria-hidden="true">EF</div>
              <div class="decimo-body"><h4>Educación Física</h4><p>Salud, condición física y trabajo en equipo para el contexto escolar y laboral.</p></div>
            </article>

            <article class="decimo-card dcol-3" role="listitem" tabindex="0" aria-label="Español">
              <div class="card-leftbar-shine"></div>
              <div class="decimo-icon" aria-hidden="true">ES</div>
              <div class="decimo-body"><h4>Español</h4><p>Comunicación efectiva y presentación técnica de informes.</p></div>
            </article>

            <article class="decimo-card dcol-4" role="listitem" tabindex="0" aria-label="Física Elemental">
              <div class="card-leftbar-shine"></div>
              <div class="decimo-icon" aria-hidden="true">FE</div>
              <div class="decimo-body"><h4>Física Elemental</h4><p>Conceptos de energía, fuerza y electricidad aplicados al taller.</p></div>
            </article>

            <article class="decimo-card dcol-5" role="listitem" tabindex="0" aria-label="Historia de Honduras">
              <div class="card-leftbar-shine"></div>
              <div class="decimo-icon" aria-hidden="true">HH</div>
              <div class="decimo-body"><h4>Historia de Honduras</h4><p>Identidad, procesos sociales y su impacto en la comunidad.</p></div>
            </article>

            <article class="decimo-card dcol-6" role="listitem" tabindex="0" aria-label="Informática">
              <div class="card-leftbar-shine"></div>
              <div class="decimo-icon" aria-hidden="true">IT</div>
              <div class="decimo-body"><h4>Informática</h4><p>Herramientas digitales, seguridad y aplicaciones prácticas.</p></div>
            </article>

            <article class="decimo-card dcol-7" role="listitem" tabindex="0" aria-label="Inglés">
              <div class="card-leftbar-shine"></div>
              <div class="decimo-icon" aria-hidden="true">EN</div>
              <div class="decimo-body"><h4>Inglés</h4><p>Vocabulario técnico y comunicación básica en entornos laborales.</p></div>
            </article>

            <article class="decimo-card dcol-8" role="listitem" tabindex="0" aria-label="Matemáticas">
              <div class="card-leftbar-shine"></div>
              <div class="decimo-icon" aria-hidden="true">M</div>
              <div class="decimo-body"><h4>Matemáticas</h4><p>Álgebra y razonamiento para resolver problemas técnicos y proyectos.</p></div>
            </article>

            <article class="decimo-card dcol-9" role="listitem" tabindex="0" aria-label="Psicología">
              <div class="card-leftbar-shine"></div>
              <div class="decimo-icon" aria-hidden="true">PS</div>
              <div class="decimo-body"><h4>Psicología</h4><p>Habilidades socioemocionales, liderazgo y manejo del estrés.</p></div>
            </article>

            <article class="decimo-card dcol-10" role="listitem" tabindex="0" aria-label="Química">
              <div class="card-leftbar-shine"></div>
              <div class="decimo-icon" aria-hidden="true">Q</div>
              <div class="decimo-body"><h4>Química</h4><p>Propiedades de materiales y seguridad en reacciones y labores técnicas.</p></div>
            </article>

            <article class="decimo-card dcol-11" role="listitem" tabindex="0" aria-label="Sociología">
              <div class="card-leftbar-shine"></div>
              <div class="decimo-icon" aria-hidden="true">SO</div>
              <div class="decimo-body"><h4>Sociología</h4><p>Estudio de grupos y organización social aplicable a proyectos comunitarios.</p></div>
            </article>
          </div>
        </section>

        <!-- CARRERAS -->
        <section id="carreras" aria-labelledby="carreras-title">
          <div class="section-title" style="flex-direction:column;align-items:center">
            <h3 id="carreras-title" style="text-align:center">Carreras</h3>
            <p>Opciones técnicas representadas con iconos.</p>
          </div>

          <div class="carrusel" aria-label="Carrusel de carreras">
            <div class="carreras-title" role="heading" aria-level="2">Carreras Disponibles</div>

            <div class="carreras-wrapper">
              <div class="carreras-track-carousel" id="carouselTrack" role="list">
                <article class="carrera-card" role="listitem" aria-label="Ciencias y Letras">
                  <div>
                    <h3>Bachillerato en Ciencias y Humanidades</h3>
                    <p>Formación académica integral en ciencias y humanidades.</p>
                    <p class="modalidad muted">Modalidad: Presencial</p>
                  </div>
                  <div style="margin-top:12px">
                    <a class="btn" href="humanidades.html">Ver más</a>
                  </div>
                </article>

                <article class="carrera-card" role="listitem" aria-label="Informática">
                  <div>
                    <h3>Bachillerato Técnico Profesional en Informática</h3>
                    <p>Preparación en programación, redes y soporte técnico.</p>
                    <p class="modalidad muted">Modalidad: Presencial o ISEMED</p>
                  </div>
                  <div style="margin-top:12px">
                    <a class="btn" href="informatica.html">Ver más</a>
                  </div>
                </article>

                <article class="carrera-card" role="listitem" aria-label="Administración de Empresas">
                  <div>
                    <h3>Bachillerato Técnico Profesional en Administración de Empresas</h3>
                    <p>Gestión empresarial, contabilidad y liderazgo organizacional.</p>
                    <p class="modalidad muted">Modalidad: ISEMED</p>
                  </div>
                  <div style="margin-top:12px">
                    <a class="btn" href="adminempresas.html">Ver más</a>
                  </div>
                </article>

                <article class="carrera-card" role="listitem" aria-label="Agroforestal">
                  <div>
                    <h3>Bachillerato Técnico en Innovación y Desarrollo Agroforestal</h3>
                    <p>Innovación agroforestal, sostenibilidad ambiental y desarrollo rural.</p>
                    <p class="modalidad muted">Modalidad: Presencial</p>
                  </div>
                  <div style="margin-top:12px">
                    <a class="btn" href="agroforestal.html">Ver más</a>
                  </div>
                </article>

                <article class="carrera-card" role="listitem" aria-label="Contaduría y Finanzas">
                  <div>
                    <h3>Bachillerato Técnico Profesional en Contaduría y Finanzas</h3>
                    <p>Contabilidad general, costos y finanzas aplicadas.</p>
                    <p class="modalidad muted">Modalidad: Presencial</p>
                  </div>
                  <div style="margin-top:12px">
                    <a class="btn" href="finanzas.html">Ver más</a>
                  </div>
                </article>

                <article class="carrera-card" role="listitem" aria-label="Administración Hotelera">
                  <div>
                    <h3>Bachillerato Técnico Profesional en Administración Hotelera</h3>
                    <p>Atención al cliente, gestión hotelera y promoción turística.</p>
                    <p class="modalidad muted">Modalidad: Presencial</p>
                  </div>
                  <div style="margin-top:12px">
                    <a class="btn" href="hotelera.html">Ver más</a>
                  </div>
                </article>
              </div>
            </div>

            <button class="carousel-btn carousel-prev" id="carouselPrev" aria-label="Anterior">❮</button>
            <button class="carousel-btn carousel-next" id="carouselNext" aria-label="Siguiente">❯</button>
          </div>
        </section>

        <!-- CAMINO / POSTER -->
        <section id="camino" aria-labelledby="camino-title">
          <div class="section-title">
            <h3 id="camino-title">Camino y Graduación</h3>
            <p>Tu trayecto desde el descubrimiento hasta la certificación.</p>
          </div>

          <div class="camino-poster" role="img" aria-label="Poster motivacional del camino del estudiante">
            <div class="poster-left" id="posterLeft">
              <h3 class="poster-title">Sube paso a paso: tu formación técnica</h3>
              <p class="poster-sub">Cada etapa te acerca a una meta: formación general, práctica en talleres, orientación y certificación. Aquí te mostramos el recorrido con hitos claros y consejos para aprovechar cada etapa.</p>

              <div class="milestones" id="milestones">
                <div class="milestone ms-1">
                  <div class="dot">1</div>
                  <div>
                    <strong>Ciclo Común</strong>
                    <small>Base académica y rotaciones</small>
                  </div>
                </div>

                <div class="milestone ms-2">
                  <div class="dot">2</div>
                  <div>
                    <strong>Talleres</strong>
                    <small>Aprende haciendo</small>
                  </div>
                </div>

                <div class="milestone ms-3">
                  <div class="dot">3</div>
                  <div>
                    <strong>Décimo</strong>
                    <small>Orientación y pruebas</small>
                  </div>
                </div>

                <div class="milestone ms-4">
                  <div class="dot">4</div>
                  <div>
                    <strong>Carreras</strong>
                    <small>Especialízate</small>
                  </div>
                </div>

                <div class="milestone ms-5">
                  <div class="dot">5</div>
                  <div>
                    <strong>Graduación</strong>
                    <small>Certificación y oportunidades</small>
                  </div>
                </div>
              </div>

              <div style="margin-top:16px;display:flex;gap:10px;flex-wrap:wrap">
                <a class="btn" href="#talleres">Ver talleres</a>
                <a class="btn" href="#decimo">Ir a décimo</a>
              </div>
            </div>

            <div class="poster-illustr" aria-hidden="true">
              <svg class="hill-svg" viewBox="0 0 800 520" xmlns="http://www.w3.org/2000/svg" role="presentation" aria-hidden="true">
                <defs>
                  <linearGradient id="g1" x1="0" x2="0" y1="0" y2="1">
                    <stop offset="0%" stop-color="#fff" stop-opacity="0.18"/>
                    <stop offset="100%" stop-color="#e9fff4" stop-opacity="1"/>
                  </linearGradient>
                </defs>
                <rect width="100%" height="100%" fill="url(#g1)"/>
                <path d="M0 420 C150 300 350 360 500 300 C650 240 800 320 800 520 L0 520 Z" fill="#dff7ee"/>
                <g transform="translate(60,260)">
                  <circle cx="120" cy="140" r="18" fill="#ff9bb3" opacity="0.95"/>
                  <circle cx="220" cy="110" r="18" fill="#14a37f"/>
                  <circle cx="320" cy="80" r="18" fill="#6ec6ff"/>
                  <circle cx="420" cy="50" r="18" fill="#ffd166"/>
                  <circle cx="520" cy="20" r="18" fill="#b39ddb"/>
                  <g transform="translate(520, -10) scale(0.9)">
                    <circle cx="0" cy="-48" r="18" fill="#213237"/>
                    <path d="M-8 -30 L8 -18 L8 10 L-8 10 Z" fill="#213237"/>
                    <rect x="-14" y="10" width="28" height="8" rx="4" fill="#14a37f"/>
                  </g>
                </g>
              </svg>
            </div>
          </div>
        </section>

      </div>
    </main>

    <footer>
      <div class="footer-container">
        <div class="footer-logo">
          <img src="Imagenes/IMRA-logo.png" alt="logo">
          <div class="logo-text">
            <div class="vertical-line"></div>
            <span class="vertical-ipmra">I<br>P<br>M<br>R<br>A</span>
          </div>
        </div>
        <div class="footer-contact">
          <h4>Síguenos en nuestra red social</h4>
          <ul>
            <li>
              <a class="boton-facebook" href="https://www.facebook.com/profile.php?id=100064632464818" target="_blank">
                <img src="Imagenes/facebook.png" alt="facebook" width="16px"> Visita nuestro Facebook
              </a>
            </li>
          </ul>
        </div>
      </div>
      <div class="footer-bottom">
        <p>&copy; 2025 Instituto Polivalente Modesto Rodas Alvarado - Todos los derechos reservados</p>
      </div>
    </footer>
  </div>

  <script>
    /* ===== MENU / HAMBURGUESA (responsive) ===== */
    (function(){
      const hamburguesa = document.getElementById('hamburguesa');
      const menuOpciones = document.getElementById('menu-opciones');
      const menu = document.getElementById('menu');

      if(!hamburguesa || !menuOpciones) return;

      function openMenu(){
        hamburguesa.classList.add('active');
        menuOpciones.classList.add('show');
        document.body.classList.add('menu-open');
        hamburguesa.setAttribute('aria-expanded','true');
        menuOpciones.setAttribute('aria-hidden','false');
      }

      function closeMenu(){
        hamburguesa.classList.remove('active');
        menuOpciones.classList.remove('show');
        document.body.classList.remove('menu-open');
        hamburguesa.setAttribute('aria-expanded','false');
        menuOpciones.setAttribute('aria-hidden','true');
      }

      hamburguesa.addEventListener('click', (e)=>{
        e.stopPropagation();
        if(menuOpciones.classList.contains('show')) closeMenu(); else openMenu();
      });

      // Allow keyboard toggle (Enter / Space)
      hamburguesa.addEventListener('keydown', (e)=>{
        if(e.key === 'Enter' || e.key === ' ') { e.preventDefault(); hamburguesa.click(); }
      });

      // Close when clicking outside (improves mobile UX)
      document.addEventListener('click', (e)=>{
        if(!menu.contains(e.target) && menuOpciones.classList.contains('show')){
          closeMenu();
        }
      }, {passive:true});

      // close on escape
      document.addEventListener('keydown', (e)=>{
        if(e.key === 'Escape' && menuOpciones.classList.contains('show')) closeMenu();
      });

      // Close on resize > breakpoint
      window.addEventListener('resize', ()=>{
        if(window.innerWidth > 980){
          closeMenu();
        }
      });

      // submenu toggles
      document.querySelectorAll('.alineacion-menu li').forEach(li=>{
        const submenu = li.querySelector('.submenu');
        if(submenu){
          const anchor = li.querySelector('a');
          anchor.addEventListener('click', (ev)=>{
            ev.preventDefault();
            li.classList.toggle('show-submenu');
          });
        }
      });
    })();

    /* ===== TIMELINE / WALKER (more accurate positioning) ===== */
    (function(){
      const timelineRow = document.getElementById('timelineRow');
      if(!timelineRow) return;
      const nodes = Array.from(timelineRow.querySelectorAll('.node'));
      const walker = document.getElementById('walker');
      const timelineProgress = document.getElementById('timelineProgress');
      const selectorToNodeIndex = {};
      nodes.forEach((n,i)=> selectorToNodeIndex[n.dataset.target]=i);
      const sectionsInDoc = Array.from(document.querySelectorAll('main section[id]'));

      function computePositions(){
        // use offsetLeft/offsetWidth so horizontal scroll inside timeline is considered
        return nodes.map(n=>{
          const center = n.offsetLeft + (n.offsetWidth / 2) - timelineRow.scrollLeft;
          return {node:n, center};
        });
      }
      let positions = computePositions();

      function placeWalkerAt(px, highlight=false){
        const trackRect = timelineRow.getBoundingClientRect();
        const minLeft = Math.max(12,36);
        const maxRight = Math.max(80, trackRect.width - 36);
        const clamped = Math.min(Math.max(px, minLeft), maxRight);
        if(walker) walker.style.left = clamped + 'px';
        if(timelineProgress){
          // compute pct relative to track width
          const pct = Math.min(100, Math.max(0, (clamped - 44) / (trackRect.width - 88) * 100));
          timelineProgress.style.width = pct + '%';
        }
        if(walker){
          if(highlight) walker.classList.add('stage-highlight','stage-active'); else walker.classList.remove('stage-highlight','stage-active');
        }
      }

      function setActive(index){
        nodes.forEach((n,i)=> n.classList.toggle('active', i===index));
        // position walker exactly at center of active node (recompute positions first)
        positions = computePositions();
        if(positions[index]){
          placeWalkerAt(positions[index].center, true);
          setTimeout(()=> walker.classList.remove('stage-highlight'), 700);
        }
      }

      nodes.forEach(n=>{
        n.addEventListener('click', ()=>{ const targetSel = n.dataset.target; const el = document.querySelector(targetSel); if(!el) return; const sticky = document.querySelector('.timeline-sticky'); const stickyOffset = sticky ? Math.round(sticky.getBoundingClientRect().height) + 12 : 88; const rect = el.getBoundingClientRect(); const top = window.scrollY + rect.top - stickyOffset; window.scrollTo({ top: Math.max(0, Math.round(top)), behavior: 'smooth' }); });
        n.addEventListener('keydown', e=> { if(e.key==='Enter'||e.key===' '){ e.preventDefault(); n.click(); }});
      });

      // observe sections to toggle active
      const obsThreshold = (window.innerWidth <= 640) ? 0.25 : 0.55;
      const obsRootMargin = (window.innerWidth <= 640) ? "0px 0px -40% 0px" : "0px 0px -20% 0px";
      const obs = new IntersectionObserver(entries=>{
        positions = computePositions();
        entries.forEach(en=>{
          if(en.isIntersecting){
            const sel = '#'+en.target.id;
            const nodeIdx = (sel in selectorToNodeIndex) ? selectorToNodeIndex[sel] : -1;
            if(nodeIdx !== -1){
              setActive(nodeIdx);
            }
          }
        });
      }, { threshold: obsThreshold, rootMargin: obsRootMargin });

      sectionsInDoc.forEach(s => { if(('#'+s.id) in selectorToNodeIndex) obs.observe(s); });

      function updateContinuous(){
        positions = computePositions();
        const viewTop = window.scrollY;
        const viewMid = viewTop + window.innerHeight * 0.32;
        let currentSectionIdx = 0;
        for(let i=0;i<sectionsInDoc.length;i++){
          const rect = sectionsInDoc[i].getBoundingClientRect();
          const absTop = window.scrollY + rect.top;
          if(viewMid >= absTop) currentSectionIdx = i;
        }
        const nextSectionIdx = Math.min(sectionsInDoc.length-1, currentSectionIdx+1);
        const currRect = sectionsInDoc[currentSectionIdx].getBoundingClientRect();
        const nextRect = sectionsInDoc[nextSectionIdx].getBoundingClientRect();
        const currTopAbs = window.scrollY + currRect.top;
        const nextTopAbs = window.scrollY + nextRect.top;
        let ratio = 0;
        if(nextTopAbs !== currTopAbs){
          ratio = (viewMid - currTopAbs) / (nextTopAbs - currTopAbs);
          ratio = Math.min(1, Math.max(0, ratio));
        } else ratio = 1;
        const currSectionSel = '#' + sectionsInDoc[currentSectionIdx].id;
        const nextSectionSel = '#' + sectionsInDoc[nextSectionIdx].id;
        const currNodeIdx = (currSectionSel in selectorToNodeIndex) ? selectorToNodeIndex[currSectionSel] : null;
        const nextNodeIdx = (nextSectionSel in selectorToNodeIndex) ? selectorToNodeIndex[nextSectionSel] : currNodeIdx;
        const currPos = (currNodeIdx !== null) ? (positions[currNodeIdx] ? positions[currNodeIdx].center : null) : null;
        const nextPos = (nextNodeIdx !== null) ? (positions[nextNodeIdx] ? positions[nextNodeIdx].center : currPos) : currPos;
        const leftPx = (currPos !== null && nextPos !== null) ? (currPos + (nextPos - currPos) * ratio) : (currPos || nextPos || 44);
        placeWalkerAt(leftPx, false);
        const activeNodeIdx = (ratio > 0.6) ? nextNodeIdx : currNodeIdx;
        if(typeof activeNodeIdx === 'number') setActive(activeNodeIdx);
      }

      window.addEventListener('load', ()=> { positions = computePositions(); setTimeout(()=> updateContinuous(), 60); });
      let rafId = null;
      // update positions if timeline is scrolled horizontally
      timelineRow.addEventListener('scroll', ()=> { if(rafId) cancelAnimationFrame(rafId); rafId = requestAnimationFrame(()=>{ positions = computePositions(); updateContinuous(); }); }, {passive:true});
      window.addEventListener('scroll', ()=> { if(rafId) cancelAnimationFrame(rafId); rafId = requestAnimationFrame(updateContinuous); }, { passive:true });
      window.addEventListener('resize', ()=> { if(rafId) cancelAnimationFrame(rafId); rafId = requestAnimationFrame(()=>{ positions = computePositions(); updateContinuous(); }); });
    })();

    /* Flip cards / Carrusel / Poster / Accessibility: (kept original behavior but robust)
       + mejoras para recordar posición exacta del carrusel (index + scrollLeft)
    */
    (function(){
      document.querySelectorAll('.card').forEach(card=>{
        const inner = card.querySelector('.card-inner');
        const flip = card.querySelector('.flip-btn');
        const close = card.querySelector('.close-btn');

        inner && inner.querySelectorAll('.card-face').forEach(face=>{
          if(face.classList.contains('card-back')) face.setAttribute('aria-hidden','true');
          else face.setAttribute('aria-hidden','false');
        });
        card.setAttribute('aria-expanded','false');

        if(flip){
          flip.addEventListener('click', (e)=>{
            e.stopPropagation();
            card.classList.add('is-flipped');
            inner.querySelectorAll('.card-face').forEach(face=>{
              if(face.classList.contains('card-back')) face.setAttribute('aria-hidden','false');
              else face.setAttribute('aria-hidden','true');
            });
            card.setAttribute('aria-expanded','true');
            const backHeading = card.querySelector('.card-back h4');
            backHeading && backHeading.setAttribute('tabindex','-1') && backHeading.focus();
          });
        }

        if(close){
          close.addEventListener('click', (e)=>{
            e.stopPropagation();
            card.classList.remove('is-flipped');
            inner.querySelectorAll('.card-face').forEach(face=>{
              if(face.classList.contains('card-back')) face.setAttribute('aria-hidden','true');
              else face.setAttribute('aria-hidden','false');
            });
            card.setAttribute('aria-expanded','false');
            flip && flip.focus();
          });
        }

        card.addEventListener('keydown', e=>{
          if(e.key === 'Escape' && card.classList.contains('is-flipped')){
            const closeBtn = card.querySelector('.close-btn');
            closeBtn && closeBtn.click();
          }
        });
      });

      // Carrusel logic (REEMPLAZADO por versión que guarda/restaura index + scrollLeft + scrollY)
      (function(){
        const track = document.getElementById('carouselTrack');
        const prev = document.getElementById('carouselPrev');
        const next = document.getElementById('carouselNext');
        if(!track || !prev || !next) return;

        // evita que el navegador interfiera con nuestra restauración manual
        try { if ('scrollRestoration' in history) history.scrollRestoration = 'manual'; } catch(e){}

        const cards = Array.from(track.children);
        let index = 0;

        // keys en sessionStorage
        const KEY_INDEX = 'ipmra_carousel_index';
        const KEY_SCROLL = 'ipmra_carousel_scroll';
        const KEY_PAGE_Y = 'ipmra_page_scrollY';

        // lee index guardado (si existe)
        try {
          const savedIndex = sessionStorage.getItem(KEY_INDEX);
          if(savedIndex !== null) index = parseInt(savedIndex,10) || 0;
        } catch(e){}

        function itemsToShow(){
          const w = window.innerWidth;
          if(w < 768) return 1;
          if(w < 980) return 2;
          return 3;
        }

        function update(animate=true){
          const show = itemsToShow();
          const gap = parseFloat(getComputedStyle(track).gap) || 20;
          const cardWidth = cards[0].getBoundingClientRect().width;
          const step = cardWidth + gap;
          const maxIndex = Math.max(0, cards.length - show);
          if(index < 0) index = 0;
          if(index > maxIndex) index = maxIndex;
          if(!animate) track.style.transition = 'none';
          track.style.transform = `translateX(-${index * step}px)`;
          if(!animate) setTimeout(()=> track.style.transition = '', 30);
          try { sessionStorage.setItem(KEY_INDEX, String(index)); } catch(e){}
        }

        // restaura posición precisa (scrollLeft) si existe
        function restoreExactPosition(){
          try {
            const savedScroll = sessionStorage.getItem(KEY_SCROLL);
            if(savedScroll !== null){
              // si el track tiene overflow (cuando el carousel está en modo scroll), restaura scrollLeft
              track.scrollLeft = parseInt(savedScroll, 10) || 0;
              // después de ajustar scroll, también calculamos índice aproximado y aplicamos transform
              setTimeout(()=> update(false), 60);
            } else {
              update(false);
            }
          } catch(e){
            update(false);
          }
        }

        // Guarda estado completo antes de navegar a otra página
        function saveStateBeforeNavigate(){
          try {
            sessionStorage.setItem(KEY_INDEX, String(index));
            sessionStorage.setItem(KEY_SCROLL, String(track.scrollLeft || 0));
            sessionStorage.setItem(KEY_PAGE_Y, String(window.scrollY || 0));
          } catch(e){}
        }

        // Cuando el usuario hace click en los enlaces "Ver más" dentro de las tarjetas
        // guardamos el estado antes de permitir la navegación.
        // También cubrimos cualquier <a> dentro del carousel que lleve a otra página.
        cards.forEach(card=>{
          const anchors = Array.from(card.querySelectorAll('a'));
          anchors.forEach(a=>{
            // si el enlace apunta a otra página (no es hash) guardamos antes de navegar
            a.addEventListener('click', (ev)=>{
              // si es apertura en nueva pestaña o modificadores, NO interferir
              if(ev.metaKey || ev.ctrlKey || ev.shiftKey || ev.button === 1) return;
              saveStateBeforeNavigate();
              // permitir que la navegación ocurra normalmente
            });
          });
        });

        // botones prev/next
        next.addEventListener('click', ()=> {
          const show = itemsToShow();
          const maxIndex = Math.max(0, cards.length - show);
          if(index < maxIndex) index++; else index = 0;
          update();
        });
        prev.addEventListener('click', ()=> {
          const show = itemsToShow();
          const maxIndex = Math.max(0, cards.length - show);
          if(index > 0) index--; else index = maxIndex;
          update();
        });

        // guardar scrollLeft mientras el usuario desplaza manualmente (touch/drag)
        let saveScrollTimeout = null;
        track.addEventListener('scroll', ()=>{
          if(saveScrollTimeout) clearTimeout(saveScrollTimeout);
          saveScrollTimeout = setTimeout(()=>{
            try { sessionStorage.setItem(KEY_SCROLL, String(track.scrollLeft)); } catch(e){}
          }, 120);
        }, {passive:true});

        // guardar antes de unload por si el usuario cierra o recarga
        window.addEventListener('beforeunload', ()=>{
          try {
            sessionStorage.setItem(KEY_INDEX, String(index));
            sessionStorage.setItem(KEY_SCROLL, String(track.scrollLeft || 0));
            sessionStorage.setItem(KEY_PAGE_Y, String(window.scrollY || 0));
          } catch(e){}
        });

        // Restauración: primero la posición de la página (scrollY), luego la del carrusel.
        // Hacemos esto en 'load' para que las imágenes y el layout ya estén.
        window.addEventListener('load', ()=>{
          // Pequeño retardo para asegurar que todo haya pintado (layout estable)
          setTimeout(()=>{
            try {
              const savedPageY = sessionStorage.getItem(KEY_PAGE_Y);
              if(savedPageY !== null){
                const y = parseInt(savedPageY,10) || 0;
                // scroll inmediato (sin smooth) para prevenir "saltos" posteriores
                window.scrollTo(0, y);
              }
            } catch(e){}

            // restaurar carousel (primero scrollLeft si existe, luego transform)
            restoreExactPosition();

            // limpieza opcional: No borro el sessionStorage aquí para permitir más navegación
          }, 60);
        });

        // Si cambió el tamaño, recalculamos rápidamente
        window.addEventListener('resize', ()=> update(false));

        // inicial
        setTimeout(()=> restoreExactPosition(), 120);
      })();

    })();

    /* Poster animation & accessibility helpers */
    (function(){
      const posterLeft = document.getElementById('posterLeft');
      const milestones = Array.from(document.querySelectorAll('.milestone'));
      if(!posterLeft) return;
      const obs = new IntersectionObserver(entries=>{
        entries.forEach(en=>{
          if(en.isIntersecting){
            posterLeft.classList.add('visible');
            milestones.forEach((m,i)=> setTimeout(()=> m.classList.add('visible'), i*120));
            obs.disconnect();
          }
        });
      }, {threshold:0.25});
      obs.observe(posterLeft);

      document.querySelectorAll('.ciclo-card, .decimo-card, .card, .carrera-card').forEach(el=>{
        el.addEventListener('focus', ()=> el.classList.add('keyboard-focus'));
        el.addEventListener('blur', ()=> el.classList.remove('keyboard-focus'));
      });
    })();
  </script>
</body>
</html>
